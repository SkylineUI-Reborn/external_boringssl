{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2e03b01d_fc97f05f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2024-03-19T08:17:44Z",
      "side": 1,
      "message": "Might also be worth revisiting this... The requirement was originally \"If libcrypto is installed on the device then boringssl_self_test needs to be too\" but that caused a circular dependency. In practice that means every device needs this so maybe we should just add it to one of the board.mk files?",
      "revId": "06bb21774b9f260cd0b427bb3ac354245862cf9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a3313b8_5b01a135",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-03-19T09:34:27Z",
      "side": 1,
      "message": "I see aosp/2221083, but don\u0027t understand the comment there. The `required` property wasn\u0027t tracked by Soong and therefore circular dependency was not an issue. (my upcoming Soong change will catch that, though)\n\nAnyway, explicitly specifying board.mk is also a good option.",
      "parentUuid": "2e03b01d_fc97f05f",
      "revId": "06bb21774b9f260cd0b427bb3ac354245862cf9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0038d598_0f5583f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2024-03-19T09:49:55Z",
      "side": 1,
      "message": "Hmm, aosp/2221083 was about `prng_seeder` which is also present base_system.mk, so that\u0027s pretty redundant and has no circular dependency, as you say.\n\nWhen we first added `boringssl_self_test` that definitely caused a Soong error due to circular deps (`boringssl_self_test` links `libcrypto`, so adding the self test binary as a `required` on `libcrypto` threw an error).\n\nAnyway, I\u0027d suggest you finish your cleanup as-is and I\u0027ll raise a followup bug to sort these.",
      "parentUuid": "2a3313b8_5b01a135",
      "revId": "06bb21774b9f260cd0b427bb3ac354245862cf9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26d10777_1c9e6786",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2024-03-19T09:56:26Z",
      "side": 1,
      "message": "Oh! The `boringssl_self_test` rule here is to ensure it ends up in the Conscrypt apex. It\u0027s also in `base_system.mk` to get it into the system image.",
      "parentUuid": "0038d598_0f5583f4",
      "revId": "06bb21774b9f260cd0b427bb3ac354245862cf9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "572057df_5f838a53",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-03-19T10:04:59Z",
      "side": 1,
      "message": "It\u0027s interesting to know that Soong complained about such a dependency circle even back then.\n\nPerhaps a better approach is to explicitly add boringssl_self_test to the `deps` property of the APEX as well, just like it was done in base_system.mk. \n\nLet\u0027s do that in a separate CL if we think is needed.",
      "parentUuid": "0038d598_0f5583f4",
      "revId": "06bb21774b9f260cd0b427bb3ac354245862cf9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}